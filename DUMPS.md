# Исходники

[Архив](https://github.com/exi66/mcgl-data-api/releases/download/v0.0.0/source.zip)

Описание дампов данных, если вы заходите сами поработать с ними.

## backscan2.zip

Представляет собой дамп всех постов из [сообществ](https://forum.minecraft-galaxy.ru/teams/), которые хоть раз
редактировались до 14 августа 2018. Данные были получены с
помощью [уязвимости](https://forum.minecraft-galaxy.ru/userissue/7613).

Здесь более **180000** всевозможных постов, в том числе:

- Заявки в кланы, сообщества
- Списки игроков кланов с их контактами
- Посты из фг

### Оригинальная структура

В корне архива расположен каталог `/backscan2`, внутри каталога без какой-либо группировки расположены `.html` файлы,
название которых соответствует id редактированию.

Формат файла (оригинальная табуляция сохранена):

```raw
ВРЕМЯ РЕДАКТИРОВАНИЯ : 2013-08-20 22:30:35<table class='posts' cellspacing=1 cellpadding=0><tr style='display: ;' id='row2-1'>
					<td class="msg-row">
						<div class="post-text" id="p1-1">
						 <img class="post-image" src=http://img-fotki.yandex.ru/get/6715/120777535.6/0_1329f1_b48c7f27_XXL.jpg><br/>Камера: Sony Alpha SLT-A77<br/>Объектив: Sony 70-300mm F4.5-5.6 G SSM<br/>Выдержка: 1/30 сек<br/>Диафрагма: f/6.3<br/>Фокусное расстояние: 70 мм<br/>ISO: 100<br/>Компенсация экспозиции: 0 eV<br/>Режим съёмки: приоритет диафрагмы<br/>
						</div>
					</td>
				</tr>
				</table>
```

Первая строка, вплоть до открытия тега `<table>` содержит дату редактирования поста, далее идет тело самого поста.

## comments.txt

Дамп комментариев к профилям игроков. Этот функционал доступен «модераторам игры», позволяет им оставлять произвольный
комментарий/заметку/ярлык, называйте как хотите, к любому профилю.

Здесь можно найти любезно оставленные модераторами ip игроков, их запущенные программы, любителей продавать донат, а так
же тут немало смешных паст, вроде той, что я привел в примере ниже.

Всего здесь **2300+** записей. Если вы нашли среди них себя, то можете даже порадоваться, вы довольной активный игрок,
раз ваши действия привлекли администрацию.

### Оригинальная структура

Оригинальный дамп это результат вызова `print_r` из php, примененное к массиву с такими полями:

```php
[
  [
    'id' => int, //id комментария
    'user_id' => int //id пользователя, к которому комментарий прикреплен
    'mod_id' => int //id модератора, который оставил самый первый комментарий
    'info' => string //сам текст
    'time' => DateTime('Y-m-d HH:mm:ss') //отметка времени создания
  ]
]
```

Пример из файла:

```
Array
(
  ...
      [755] => Array
        (
            [id] => 775
            [user_id] => 41234
            [mod_id] => 1
            [info] => 1) о том, что происходит в вашем городе вы знали с вероятностью в 99.9%, т.к. ресурсы продавали сами через биржу
2) накопление ресурсов шло постепенно и за два дня в ваших ящиках собралось как минимум алмазных блоков в количестве равном общему их числу на всей планете и блоков стали в количестве превышающем в 20-15 раз общее число блоков на всей планете
3) не имеет значения кто когда и по какой причине прописан в ваших зонах - вписывая игрока вы несете ответственность за его действия на вашей территории, так всегда было, есть и будет
4) указанный вами аккаунт имеет пересечения с вашим по железу и сети провайдера - в соответствии с нашими правилами этого достаточно, чтобы принять их за твинки друг друга

Ваши требования предельны ясны: вы хотите доказать, что получили алмазы (и другие блоки) законно, продавая свои зоны и при этом понятия не имели о ценности, сложности получения и нереальности тех объемом ресурсов, которые вы приобретали не смотря на то, что вы, в соответствии с вашими же словами, играете на серверах достаточно давно и тем более пытаетесь ловить каких-то читеров.

Наши аргументы казалось бы тоже должны быть понятны: допустить такое возможно, но мало вероятно, ибо в любом случае открыть инвентарь и написать в support одно предложение с просьбой проверить таких и таких игроков на читы гораздо проще, чем выяснять что-либо у них самих через skype, который в соответствии с нашими условиями доказательством чего бы то ни было не являлся никогда. Этот простой шаг полностью исключил бы ваш бан.
            [time] => 2013-09-25 15:47:14
        )
  ...
)
```

## TRADERGOLD.txt

Дамп из торговца голд. Самый бесполезный из всех и по этой причине отсутствует в выборке при поиске.

В какой-то момент времени в торговце голд при просмотре лотов игра почему-то отдавала всю метадату о предметах,
например:

- Что внутри подарка
- Структуру данных всяких голов игроков, подписанных предметов и других сложных штук

## Оригинальная структура

```
#43|971
299975|873,1,0|57,1,0|||30|12
299949|873,1,0|57,1,0|||30|12
299926|159,1,1||||50|12
299925|159,1,1||||50|12
299924|159,1,1||||50|12
299871|1099,1,0||||30|12
299823|1141,1,0,,@race:3:2;@nameColor:8:"§6";@name:8:"Irman";@itemId:3:942;@idPlayer:3:428426;@time:4:1492878869692;@level:3:24;||||200|12
299822|1141,1,0,,@race:3:1;@nameColor:8:"§6";@name:8:"Shredder";@itemId:3:958;@idPlayer:3:46604;@time:4:1479839273443;@level:3:25;||||300|12
299821|1141,1,0,,@race:3:4;@nameColor:8:"§f";@name:8:"Hard990";@itemId:3:830;@idPlayer:3:367514;@time:4:1524159396479;@level:3:28;||||9999|12
299820|1141,1,0,,@race:3:4;@nameColor:8:"§d";@name:8:"krosten";@itemId:3:867;@idPlayer:3:320887;@time:4:1446815281642;@level:3:20;||||1000|12
```

Первая строка это номер страницы, через знак `|` указано общее число страниц. Каждая последующая строка это отдельный
лот. Первое число это `ID` предмета, второе кол-во. Например, строка:

```
299822|1141,1,0,,@race:3:1;@nameColor:8:"§6";@name:8:"Shredder";@itemId:3:958;@idPlayer:3:46604;@time:4:1479839273443;@level:3:25;||||300|12
```

Это [голова игрока](https://forum.minecraft-galaxy.ru/item/1141), в кол-ве 1 штука, принадлежит она, как вы можете
наблюдать, Shredder'у.
